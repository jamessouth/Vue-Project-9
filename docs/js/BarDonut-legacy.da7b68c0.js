(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["BarDonut"],{"07d8":function(t,e,n){"use strict";var r=n("5aee"),a=n("9f79"),i="Set";t.exports=n("ada4")(i,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(a(this,i),t=0===t?0:t,t)}},r)},"0b64":function(t,e,n){var r=n("f772"),a=n("9003"),i=n("5168")("species");t.exports=function(t){var e;return a(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!a(e.prototype)||(e=void 0),r(e)&&(e=e[i],null===e&&(e=void 0))),void 0===e?Array:e}},"36bd":function(t,e,n){"use strict";var r=n("4bf8"),a=n("77f1"),i=n("9def");t.exports=function(t){var e=r(this),n=i(e.length),o=arguments.length,s=a(o>1?arguments[1]:void 0,n),c=o>2?arguments[2]:void 0,u=void 0===c?n:a(c,n);while(u>s)e[s++]=t;return e}},4517:function(t,e,n){var r=n("a22a");t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},"4dbf":function(t,e,n){},5176:function(t,e,n){t.exports=n("51b6")},"51b6":function(t,e,n){n("a3c3"),t.exports=n("584a").Object.assign},"57b1":function(t,e,n){var r=n("d864"),a=n("335c"),i=n("241e"),o=n("b447"),s=n("bfac");t.exports=function(t,e){var n=1==t,c=2==t,u=3==t,l=4==t,f=6==t,h=5==t||f,d=e||s;return function(e,s,p){for(var b,v,g=i(e),y=a(g),m=r(s,p,3),x=o(y.length),w=0,_=n?d(e,x):c?d(e,0):void 0;x>w;w++)if((h||w in y)&&(b=y[w],v=m(b,w,g),t))if(n)_[w]=v;else if(v)switch(t){case 3:return!0;case 5:return b;case 6:return w;case 2:_.push(b)}else if(l)return!1;return f?-1:u||l?l:_}}},"57e3":function(t,e,n){n("68f7")("Set")},5903:function(t,e,n){"use strict";var r=n("4dbf"),a=n.n(r);a.a},"5aee":function(t,e,n){"use strict";var r=n("d9f6").f,a=n("a159"),i=n("5c95"),o=n("d864"),s=n("1173"),c=n("a22a"),u=n("30f1"),l=n("50ed"),f=n("4c95"),h=n("8e60"),d=n("ebfd").fastKey,p=n("9f79"),b=h?"_s":"size",v=function(t,e){var n,r=d(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,u){var l=t(function(t,r){s(t,l,e,"_i"),t._t=e,t._i=a(null),t._f=void 0,t._l=void 0,t[b]=0,void 0!=r&&c(r,n,t[u],t)});return i(l.prototype,{clear:function(){for(var t=p(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[b]=0},delete:function(t){var n=p(this,e),r=v(n,t);if(r){var a=r.n,i=r.p;delete n._i[r.i],r.r=!0,i&&(i.n=a),a&&(a.p=i),n._f==r&&(n._f=a),n._l==r&&(n._l=i),n[b]--}return!!r},forEach:function(t){p(this,e);var n,r=o(t,arguments.length>1?arguments[1]:void 0,3);while(n=n?n.n:this._f){r(n.v,n.k,this);while(n&&n.r)n=n.p}},has:function(t){return!!v(p(this,e),t)}}),h&&r(l.prototype,"size",{get:function(){return p(this,e)[b]}}),l},def:function(t,e,n){var r,a,i=v(t,e);return i?i.v=n:(t._l=i={i:a=d(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=i),r&&(r.n=i),t[b]++,"F"!==a&&(t._i[a]=i)),t},getEntry:v,setStrong:function(t,e,n){u(t,e,function(t,n){this._t=p(t,e),this._k=n,this._l=void 0},function(){var t=this,e=t._k,n=t._l;while(n&&n.r)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?l(0,"keys"==e?n.k:"values"==e?n.v:[n.k,n.v]):(t._t=void 0,l(1))},n?"entries":"values",!n,!0),f(e)}}},"60dc":function(t,e,n){"use strict";var r=n("8eb2"),a=n.n(r);a.a},"68f7":function(t,e,n){"use strict";var r=n("63b6"),a=n("79aa"),i=n("d864"),o=n("a22a");t.exports=function(t){r(r.S,t,{from:function(t){var e,n,r,s,c=arguments[1];return a(this),e=void 0!==c,e&&a(c),void 0==t?new this:(n=[],e?(r=0,s=i(c,arguments[2],2),o(t,!1,function(t){n.push(s(t,r++))})):o(t,!1,n.push,n),new this(n))}})}},"6c7b":function(t,e,n){var r=n("5ca1");r(r.P,"Array",{fill:n("36bd")}),n("9c6c")("fill")},7075:function(t,e,n){"use strict";var r=n("63b6");t.exports=function(t){r(r.S,t,{of:function(){var t=arguments.length,e=new Array(t);while(t--)e[t]=arguments[t];return new this(e)}})}},"74be":function(t,e,n){var r=n("63b6");r(r.P+r.R,"Set",{toJSON:n("f228")("Set")})},"8eb2":function(t,e,n){},9306:function(t,e,n){"use strict";var r=n("c3a1"),a=n("9aa9"),i=n("355d"),o=n("241e"),s=n("335c"),c=Object.assign;t.exports=!c||n("294c")(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=r})?function(t,e){var n=o(t),c=arguments.length,u=1,l=a.f,f=i.f;while(c>u){var h,d=s(arguments[u++]),p=l?r(d).concat(l(d)):r(d),b=p.length,v=0;while(b>v)f.call(d,h=p[v++])&&(n[h]=d[h])}return n}:c},"9f79":function(t,e,n){var r=n("f772");t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},a3c3:function(t,e,n){var r=n("63b6");r(r.S+r.F,"Object",{assign:n("9306")})},ada4:function(t,e,n){"use strict";var r=n("e53d"),a=n("63b6"),i=n("ebfd"),o=n("294c"),s=n("35e8"),c=n("5c95"),u=n("a22a"),l=n("1173"),f=n("f772"),h=n("45f2"),d=n("d9f6").f,p=n("57b1")(0),b=n("8e60");t.exports=function(t,e,n,v,g,y){var m=r[t],x=m,w=g?"set":"add",_=x&&x.prototype,C={};return b&&"function"==typeof x&&(y||_.forEach&&!o(function(){(new x).entries().next()}))?(x=e(function(e,n){l(e,x,t,"_c"),e._c=new m,void 0!=n&&u(n,g,e[w],e)}),p("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in _&&(!y||"clear"!=t)&&s(x.prototype,t,function(n,r){if(l(this,x,t),!e&&y&&!f(n))return"get"==t&&void 0;var a=this._c[t](0===n?0:n,r);return e?this:a})}),y||d(x.prototype,"size",{get:function(){return this._c.size}})):(x=v.getConstructor(e,t,g,w),c(x.prototype,n),i.NEED=!0),h(x,t),C[t]=x,a(a.G+a.W+a.F,C),y||v.setStrong(x,t,g),x}},b6d0:function(t,e,n){t.exports=n("fa2b")},bfac:function(t,e,n){var r=n("0b64");t.exports=function(t,e){return new(r(t))(e)}},c6fb:function(t,e,n){n("7075")("Set")},d716:function(t,e,n){"use strict";n.r(e);var r,a,i,o,s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bar_donut"},[n("ChartWrapper",{attrs:{opts:t.barChartOptions,"ch-data":t.chartData,type:"bar"}}),n("ChartWrapper",{attrs:{opts:t.donutChartOptions,"ch-data":t.chartData,type:"donut"}})],1)},c=[],u=(n("6c7b"),n("5176")),l=n.n(u),f=n("a4bb"),h=n.n(f),d=(n("ac6a"),n("96cf"),n("3b8d")),p=n("75fc"),b=n("b6d0"),v=n.n(b),g=n("cebc"),y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{barClass:"bar"===t.type,donutClass:"donut"===t.type}},[t._m(0),n("div",{style:{margin:"0 auto",width:"90%"}},[n("ul",{ref:"legend",style:t.legendStyles})]),"bar"===t.type?n("BarChart",{attrs:{options:t.opts,"chart-data":t.chData}}):n("DonutChart",{attrs:{options:t.opts,"chart-data":t.chData}})],1)},m=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v("Natural events from\n    "),n("a",{staticClass:"newwindow",attrs:{rel:"noopener noreferrer",target:"_blank",href:"https://eonet.sci.gsfc.nasa.gov/eonet-project"}},[t._v("EONET")])])}],x=n("1fca"),w=x["d"].reactiveProp,_={name:"BarChart",extends:x["a"],mixins:[w],props:{options:Object},watch:{options:function(){this.renderChart(this.chartData,this.options)}},mounted:function(){this.renderChart(this.chartData,this.options)}},C=_,k=n("2877"),O=Object(k["a"])(C,r,a,!1,null,"47bbba79",null),S=O.exports,j=x["d"].reactiveProp,E={name:"DonutChart",extends:x["b"],mixins:[j],props:{options:Object},mounted:function(){this.renderChart(this.chartData,this.options)}},D=E,z=Object(k["a"])(D,i,o,!1,null,null,null),A=z.exports,M={name:"ChartWrapper",components:{BarChart:S,DonutChart:A},props:{type:{type:String,required:!0},chData:Object,opts:Object},computed:{legendStyles:function(){return{display:"flex",flexFlow:"row wrap",margin:"auto",justifyContent:"space-around",minHeight:"70px"}}},watch:{chData:function(){this.legendCallback(this.chData)}},methods:{legendCallback:function(t){for(var e,n,r,a=t.datasets[0].backgroundColor,i=0;i<t.datasets[0].data.length;i+=1)e=document.createElement("li"),n=document.createElement("p"),r=document.createElement("div"),e.style.display="flex",e.style.alignItems="center",r.style.width="30px",r.style.height="16px",r.style.backgroundColor=a[i],r.style.marginRight="5px",n.textContent=t.labels[i],n.style.fontFamily="'Alegreya Sans', sans-serif",n.style.marginRight="4px",e.appendChild(r),e.appendChild(n),this.$refs.legend.appendChild(e)}}},P=M,B=(n("60dc"),Object(k["a"])(P,y,m,!1,null,"14f2fc41",null)),F=B.exports,Q={name:"BarDonut",components:{ChartWrapper:F},data:function(){return{narrow:{type:"logarithmic",ticks:{min:0,fontSize:13,callback:function(t){return 10===t||t%20===0?t:""}},position:"left"},wide:{type:"logarithmic",ticks:{min:0,fontSize:13,callback:function(t){return t}},position:"left"},xs:{xAxes:[{barPercentage:1,categoryPercentage:1,ticks:{fontSize:1,fontColor:"transparent"},gridLines:{drawOnChartArea:!1,drawTicks:!1}}]},yright:{ticks:{callback:function(){return""}},position:"right",gridLines:{drawOnChartArea:!1,drawTicks:!1}},mQ:window.matchMedia("(max-width: 580px)"),mQon:null,chartData:{},baseBarChartOptions:{title:{display:!0,text:"Number of Events - past 60 days",fontSize:13},tooltips:{backgroundColor:"#000",displayColors:!1,titleFontSize:13,bodyFontSize:13,titleMarginBottom:6,callbacks:{title:function(t){return"".concat(t[0].xLabel,":")},label:function(t){return t.yLabel}}},responsive:!0,layout:{padding:{left:0,right:0,top:0,bottom:0}},legend:{display:!1}},donutChartOptions:{title:{display:!0,text:"Share of Events - past 60 days",fontSize:13},responsive:!0,rotation:Math.floor(100*Math.random())/10*Math.PI,cutoutPercentage:54,animation:{animateScale:!0},tooltips:{backgroundColor:"#000",displayColors:!1,titleFontSize:13,bodyFontSize:13,titleMarginBottom:6,callbacks:{label:function(t,e){var n=e.datasets[0].data,r=n[t.index],a=n.reduce(function(t,e){return t+e},0);return"".concat(e.labels[t.index],": ").concat(Math.round(r/a*1e4)/100,"%")}}},layout:{padding:{left:0,right:0,top:0,bottom:0}},legend:{display:!1,labels:{fontSize:13}}}}},computed:{barChartOptions:function(){return this.mQon?Object(g["a"])({},this.baseBarChartOptions,{scales:Object(g["a"])({yAxes:[this.narrow,this.yright]},this.xs)}):Object(g["a"])({},this.baseBarChartOptions,{scales:Object(g["a"])({yAxes:[this.wide,this.yright]},this.xs)})}},created:function(){this.makeAPICall(),this.mQ.addListener(this.handleMQ),this.handleMQ(this.mQ)},methods:{getColors:function(){var t,e=["#4a051c","#f6f930","#7a9e7e","#31493c","#ffa400","#85c7f2","#baa898","#848586","#c2847a","#d1603d","#c5dca0","#f65be3","#2a2a72"],n=new v.a;while(n.size<13)t=Math.floor(13*Math.random()),n.add(t);return Object(p["a"])(n).map(function(t){return e[t]})},handleMQ:function(t){t.matches?this.mQon=!0:this.mQon=!1},makeAPICall:function(){var t=Object(d["a"])(regeneratorRuntime.mark(function t(){var e,n,r,a,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://eonet.sci.gsfc.nasa.gov/api/v2.1/events?days=60");case 3:if(e=t.sent,!e.ok){t.next=10;break}return t.next=7,e.json();case 7:e=t.sent,t.next=11;break;case 10:throw new Error("Network problem - response not ok");case 11:if(e&&e.events&&0!==e.events.length){t.next=13;break}throw new Error("No data available");case 13:n=e.events.reduce(function(t,e){return t[e.categories[0].title]=++t[e.categories[0].title]||1,t},{}),r=[],a=[],i=this.getColors(),h()(n).forEach(function(t){r.push(t),a.push(n[t])}),this.chartData=l()({},this.chartData,{labels:r,datasets:[{label:"",data:a,backgroundColor:i,borderWidth:Array(13).fill(0)}]}),t.next=24;break;case 21:t.prev=21,t.t0=t["catch"](0),alert("There was a problem grabbing the data: ".concat(t.t0,".  Please try again."));case 24:case"end":return t.stop()}},t,this,[[0,21]])}));function e(){return t.apply(this,arguments)}return e}()}},N=Q,T=(n("5903"),Object(k["a"])(N,s,c,!1,null,"04dad260",null));e["default"]=T.exports},f228:function(t,e,n){var r=n("40c3"),a=n("4517");t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return a(this)}}},fa2b:function(t,e,n){n("c207"),n("1654"),n("6c1c"),n("07d8"),n("74be"),n("c6fb"),n("57e3"),t.exports=n("584a").Set}}]);
//# sourceMappingURL=BarDonut-legacy.da7b68c0.js.map