(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["MessageSettings"],{2728:function(e,t,n){},"28a5":function(e,t,n){"use strict";var s=n("aae3"),r=n("cb7c"),a=n("ebd6"),i=n("0390"),o=n("9def"),l=n("5f1b"),u=n("520a"),c=Math.min,p=[].push,m="split",f="length",d="lastIndex",h=!!function(){try{return new RegExp("x","y")}catch(e){}}();n("214f")("split",2,function(e,t,n,g){var v;return v="c"=="abbc"[m](/(b)*/)[1]||4!="test"[m](/(?:)/,-1)[f]||2!="ab"[m](/(?:ab)*/)[f]||4!="."[m](/(.?)(.?)/)[f]||"."[m](/()()/)[f]>1||""[m](/.?/)[f]?function(e,t){var r=String(this);if(void 0===e&&0===t)return[];if(!s(e))return n.call(r,e,t);var a,i,o,l=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,h=void 0===t?4294967295:t>>>0,g=new RegExp(e.source,c+"g");while(a=u.call(g,r)){if(i=g[d],i>m&&(l.push(r.slice(m,a.index)),a[f]>1&&a.index<r[f]&&p.apply(l,a.slice(1)),o=a[0][f],m=i,l[f]>=h))break;g[d]===a.index&&g[d]++}return m===r[f]?!o&&g.test("")||l.push(""):l.push(r.slice(m)),l[f]>h?l.slice(0,h):l}:"0"[m](void 0,0)[f]?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,s){var r=e(this),a=void 0==n?void 0:n[t];return void 0!==a?a.call(n,r,s):v.call(String(r),n,s)},function(e,t){var s=g(v,e,this,t,v!==n);if(s.done)return s.value;var u=r(e),p=String(this),m=a(u,RegExp),f=u.unicode,d=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(h?"y":"g"),b=new m(h?u:"^(?:"+u.source+")",d),w=void 0===t?4294967295:t>>>0;if(0===w)return[];if(0===p.length)return null===l(b,p)?[p]:[];var _=0,O=0,S=[];while(O<p.length){b.lastIndex=h?O:0;var I,x=l(b,h?p:p.slice(O));if(null===x||(I=c(o(b.lastIndex+(h?0:O)),p.length))===_)O=i(p,O,f);else{if(S.push(p.slice(_,O)),S.length===w)return S;for(var y=1;y<=x.length-1;y++)if(S.push(x[y]),S.length===w)return S;O=_=I}}return S.push(p.slice(_)),S}]})},"2f21":function(e,t,n){"use strict";var s=n("79e5");e.exports=function(e,t){return!!e&&s(function(){t?e.call(null,function(){},1):e.call(null)})}},"48aa":function(e,t,n){"use strict";var s=n("9750"),r=n.n(s);r.a},"55dd":function(e,t,n){"use strict";var s=n("5ca1"),r=n("d8e8"),a=n("4bf8"),i=n("79e5"),o=[].sort,l=[1,2,3];s(s.P+s.F*(i(function(){l.sort(void 0)})||!i(function(){l.sort(null)})||!n("2f21")(o)),"Array",{sort:function(e){return void 0===e?o.call(a(this)):o.call(a(this),r(e))}})},7655:function(e,t,n){"use strict";var s=n("b563"),r=n.n(s);r.a},"8e73":function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Message"),n("Settings")],1)},r=[],a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"messages"},[n("form",{attrs:{autocomplete:"off"}},[n("fieldset",[n("legend",[e._v("message user")]),n("label",{attrs:{for:"user_search"}},[e._v("search for user")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.nameInput,expression:"nameInput"}],attrs:{spellcheck:"false",list:"names",id:"user_search",name:"search",type:"search",placeholder:"Search for User"},domProps:{value:e.nameInput},on:{input:function(t){t.target.composing||(e.nameInput=t.target.value)}}}),n("datalist",{attrs:{id:"names"}},e._l(e.userList,function(t,s){return n("option",{key:s},[e._v(e._s(t.name))])}),0),n("label",{attrs:{for:"message"}},[e._v("message for user")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.messageInput,expression:"messageInput"}],attrs:{name:"message",placeholder:"Message for User",id:"message"},domProps:{value:e.messageInput},on:{input:function(t){t.target.composing||(e.messageInput=t.target.value)}}})]),n("transition",{attrs:{name:"sent"},on:{"after-enter":e.afterEnter,"before-leave":e.beforeLeave}},[e.sent?n("p",[e._v(e._s(e.popupMessage))]):e._e()]),n("BigButton",{attrs:{text:"Send"},nativeOn:{click:function(t){return e.handleClick(t)}}})],1)])},i=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{attrs:{type:"button"}},[e._v(e._s(e.text))])},l=[],u={props:["text"],name:"BigButton"},c=u,p=(n("e631"),n("2877")),m=Object(p["a"])(c,o,l,!1,null,"8d32c876",null);m.options.__file="BigButton.vue";var f=m.exports,d={name:"Message",data(){return{nameInput:null,messageInput:null,sent:!1}},computed:{userList(){return this.$store.state.users},popupMessage(){return this.nameInput&&this.messageInput?"Message sent!":"Both fields required"}},methods:{handleClick(){this.sent=!0},afterEnter(){this.sent=!1},beforeLeave(){this.nameInput&&this.messageInput&&(this.nameInput="",this.messageInput="")}},components:{BigButton:f}},h=d,g=(n("7655"),Object(p["a"])(h,a,i,!1,null,"47baadc8",null));g.options.__file="Message.vue";var v=g.exports,b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"settings"}},[n("form",[n("fieldset",[n("legend",[e._v("settings")]),n("SwitchTwoWay",{attrs:{label:"Send Email",name:"email"},on:{"store-onOff":function(t){e.email=t}}}),n("SwitchTwoWay",{attrs:{label:"Set Profile",name:"profile"},on:{"store-onOff":function(t){e.profile=t}}}),n("DropDownMenu",{attrs:{name:"Timezone"},on:{"store-timezone":function(t){e.timezone=t}}})],1),n("transition",{attrs:{name:"saved"},on:{"after-enter":e.afterEnter}},[e.saved?n("p",[e._v(e._s(e.popupMessage))]):e._e()]),n("BigButton",{attrs:{text:"Save"},nativeOn:{click:function(t){e.timezone&&e.setSettings({timezone:e.timezone,email:e.email,profile:e.profile}),e.handleClick()}}})],1)])},w=[],_=n("be94"),O=n("2f62"),S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("p",[e._v(e._s(e.label))]),n("div",{style:{background:e.switchOn?"linear-gradient(to bottom right, #a6aaf2, #40448c)":"linear-gradient(to bottom right, #ea4e51, #840000)"},on:{click:e.handleClick}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.switchOn,expression:"switchOn"}],attrs:{id:e.onID,type:"radio",value:"true"},domProps:{checked:e._q(e.switchOn,"true")},on:{change:function(t){e.switchOn="true"}}}),n("label",{style:{display:e.switchOn?"block":"none"},attrs:{for:e.onID},on:{click:function(e){e.preventDefault()}}},[e._v("on")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.switchOn,expression:"switchOn"}],attrs:{id:e.offID,type:"radio",value:"false"},domProps:{checked:e._q(e.switchOn,"false")},on:{change:function(t){e.switchOn="false"}}}),n("label",{style:e.offLabel,attrs:{for:e.offID},on:{click:function(e){e.preventDefault()}}},[e._v("off")])])])},I=[],x={name:"SwitchTwoWay",props:["label","name"],data(){return{switchOn:!0}},methods:{handleClick(){this.switchOn=!this.switchOn,this.$emit("store-onOff",this.switchOn)}},mounted(){localStorage.getItem("settings")&&(this.switchOn=JSON.parse(localStorage.getItem("settings"))[this.name])},computed:{offID(){return`off-${this.name}`},onID(){return`on-${this.name}`},offLabel(){return{display:this.switchOn?"none":"block",right:"10px",left:"inherit"}}}},y=x,k=(n("9526"),Object(p["a"])(y,S,I,!1,null,"0d10ce46",null));k.options.__file="SwitchTwoWay.vue";var C=k.exports,D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("label",{attrs:{for:e.forAttr}},[e._v("select "+e._s(e.name.toLowerCase()))]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],attrs:{required:"",name:e.forAttr,id:e.forAttr},on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.selected=t.target.multiple?n:n[0]},function(t){e.$emit("store-timezone",e.selected)}]}},[n("option",{attrs:{disabled:"",value:""}},[e._v("Select "+e._s(e.name))]),e._l(e.tzOptions,function(t,s){return n("option",{key:s,style:{color:"#676666"},domProps:{value:t}},[e._v(e._s(t)+"\n    ")])})],2)])},M=[],z=(n("ac6a"),n("55dd"),n("a481"),n("28a5"),{name:"DropDownMenu",data(){return{tzOptions:[],selected:"",timezoneFetch:"https://en.wikipedia.org/w/api.php?action=parse&page=Time_zone&prop=text&section=11&format=json&origin=*"}},props:["name"],created(){this.loadOptions()},mounted(){localStorage.getItem("settings")&&(this.selected=JSON.parse(localStorage.getItem("settings")).timezone)},computed:{forAttr(){return this.name.toLowerCase()}},methods:{cutOutTable(e){return e.substring(e.indexOf("<tr>"),e.lastIndexOf("</tr>")+5)},splitIntoRows(e){return e.split("</tr>\n<tr>")},removeColumnHeaders(e){return e.splice(1)},pipe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((e,t)=>t(e),e)}},splitIntoColumns(e){return e.split("</td>\n<td>")},removeUnneededColumns(e){return e[2].trim()?e[3].trim()?[e[0],`${e[2]},${e[3]}`]:[e[0],e[2]]:[e[0],e[3]]},removeHTMLandParens(e){return e.map(e=>e.replace(/\n*<([^>]*)>\n*/g,"").replace(/ *\(([^)]*)\)/g,""))},splitCountries(e){return[e[0],...e[1].split(/, ?/)]},trimCountryNames(e){return e.map(e=>e.trim())},finalTouches(e){return[e[0],...e.slice(1).map(e=>e.replace(/South Georgia and the South Sandwich Islands/,"S Georgia/S Sandwich Islands").replace(/British Indian Ocean Territory/,"BIOT").replace(/,/,"").replace(/Democratic Republic of the Congo/,"DR Congo").replace(/[&#\d;]/g,""))]},sortNames(e){return[e[0],...e.slice(1).sort((e,t)=>e>t?1:-1)]},removeBlanks(e){return e.filter(e=>!!e)},deDupe(e){return[...new Set(e)]},makeOptions(e){return e.slice(1).map((t,n,s)=>`${e[0]}  ${s[n]}`)},async loadOptions(){try{let t=await fetch(this.timezoneFetch);if(!t.ok)throw new Error("Network problem - response not ok");t=await t.json(),this.tzOptions=[this.cutOutTable,this.splitIntoRows,this.removeColumnHeaders].reduce((e,t)=>t(e),t.parse.text["*"]).map(this.pipe(this.splitIntoColumns,this.removeUnneededColumns,this.removeHTMLandParens,this.splitCountries,this.trimCountryNames,this.finalTouches,this.sortNames,this.removeBlanks,this.deDupe,this.makeOptions)).reduce((e,t)=>[...e,...t])}catch(e){alert(`There was a problem grabbing the data: ${e}.  Please try again.`)}}}}),N=z,B=(n("48aa"),Object(p["a"])(N,D,M,!1,null,"0a9f7bce",null));B.options.__file="DropDownMenu.vue";var E=B.exports,T={name:"Settings",data(){return{saved:!1,timezone:JSON.parse(localStorage.getItem("settings"))?JSON.parse(localStorage.getItem("settings")).timezone:null,email:!JSON.parse(localStorage.getItem("settings"))||JSON.parse(localStorage.getItem("settings")).email,profile:!JSON.parse(localStorage.getItem("settings"))||JSON.parse(localStorage.getItem("settings")).profile}},methods:Object(_["a"])({},Object(O["b"])(["setSettings"]),{handleClick(){this.saved=!0},afterEnter(){this.saved=!1}}),computed:{popupMessage(){return this.timezone?"Your settings have been saved":"Please select a timezone"}},components:{BigButton:f,SwitchTwoWay:C,DropDownMenu:E}},$=T,P=(n("f8d6"),Object(p["a"])($,b,w,!1,null,"93ee21ca",null));P.options.__file="Settings.vue";var j=P.exports,J={name:"MessageSettings",components:{Message:v,Settings:j}},L=J,R=(n("d302"),Object(p["a"])(L,s,r,!1,null,"558acbfd",null));R.options.__file="MessageSettings.vue";t["default"]=R.exports},9526:function(e,t,n){"use strict";var s=n("d7bf"),r=n.n(s);r.a},9750:function(e,t,n){},aae3:function(e,t,n){var s=n("d3f4"),r=n("2d95"),a=n("2b4c")("match");e.exports=function(e){var t;return s(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==r(e))}},b563:function(e,t,n){},d302:function(e,t,n){"use strict";var s=n("dc14"),r=n.n(s);r.a},d7bf:function(e,t,n){},dc14:function(e,t,n){},df5c:function(e,t,n){},e631:function(e,t,n){"use strict";var s=n("df5c"),r=n.n(s);r.a},ebd6:function(e,t,n){var s=n("cb7c"),r=n("d8e8"),a=n("2b4c")("species");e.exports=function(e,t){var n,i=s(e).constructor;return void 0===i||void 0==(n=s(i)[a])?t:r(n)}},f8d6:function(e,t,n){"use strict";var s=n("2728"),r=n.n(s);r.a}}]);
//# sourceMappingURL=MessageSettings.753e444e.js.map