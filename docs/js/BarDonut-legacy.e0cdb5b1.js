(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["BarDonut"],{"13d5":function(t,e,n){"use strict";var r=n("23e7"),a=n("d58f").left,i=n("a640"),o=n("ae40"),s=i("reduce"),c=o("reduce",{1:0});r({target:"Array",proto:!0,forced:!s||!c},{reduce:function(t){return a(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},6062:function(t,e,n){"use strict";var r=n("6d61"),a=n("6566");t.exports=r("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),a)},6566:function(t,e,n){"use strict";var r=n("9bf2").f,a=n("7c73"),i=n("e2cc"),o=n("0366"),s=n("19aa"),c=n("2266"),u=n("7dd0"),l=n("2626"),d=n("83ab"),f=n("f183").fastKey,h=n("69f3"),p=h.set,v=h.getterFor;t.exports={getConstructor:function(t,e,n,u){var l=t((function(t,r){s(t,l,e),p(t,{type:e,index:a(null),first:void 0,last:void 0,size:0}),d||(t.size=0),void 0!=r&&c(r,t[u],t,n)})),h=v(e),b=function(t,e,n){var r,a,i=h(t),o=g(t,e);return o?o.value=n:(i.last=o={index:a=f(e,!0),key:e,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=o),r&&(r.next=o),d?i.size++:t.size++,"F"!==a&&(i.index[a]=o)),t},g=function(t,e){var n,r=h(t),a=f(e);if("F"!==a)return r.index[a];for(n=r.first;n;n=n.next)if(n.key==e)return n};return i(l.prototype,{clear:function(){var t=this,e=h(t),n=e.index,r=e.first;while(r)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete n[r.index],r=r.next;e.first=e.last=void 0,d?e.size=0:t.size=0},delete:function(t){var e=this,n=h(e),r=g(e,t);if(r){var a=r.next,i=r.previous;delete n.index[r.index],r.removed=!0,i&&(i.next=a),a&&(a.previous=i),n.first==r&&(n.first=a),n.last==r&&(n.last=i),d?n.size--:e.size--}return!!r},forEach:function(t){var e,n=h(this),r=o(t,arguments.length>1?arguments[1]:void 0,3);while(e=e?e.next:n.first){r(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!g(this,t)}}),i(l.prototype,n?{get:function(t){var e=g(this,t);return e&&e.value},set:function(t,e){return b(this,0===t?0:t,e)}}:{add:function(t){return b(this,t=0===t?0:t,t)}}),d&&r(l.prototype,"size",{get:function(){return h(this).size}}),l},setStrong:function(t,e,n){var r=e+" Iterator",a=v(e),i=v(r);u(t,e,(function(t,e){p(this,{type:r,target:t,state:a(t),kind:e,last:void 0})}),(function(){var t=i(this),e=t.kind,n=t.last;while(n&&n.removed)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),l(e)}}},"6d61":function(t,e,n){"use strict";var r=n("23e7"),a=n("da84"),i=n("94ca"),o=n("6eeb"),s=n("f183"),c=n("2266"),u=n("19aa"),l=n("861d"),d=n("d039"),f=n("1c7e"),h=n("d44e"),p=n("7156");t.exports=function(t,e,n){var v=-1!==t.indexOf("Map"),b=-1!==t.indexOf("Weak"),g=v?"set":"add",y=a[t],m=y&&y.prototype,x=y,w={},C=function(t){var e=m[t];o(m,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(b&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return b&&!l(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(b&&!l(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(i(t,"function"!=typeof y||!(b||m.forEach&&!d((function(){(new y).entries().next()})))))x=n.getConstructor(e,t,v,g),s.REQUIRED=!0;else if(i(t,!0)){var k=new x,O=k[g](b?{}:-0,1)!=k,D=d((function(){k.has(1)})),E=f((function(t){new y(t)})),j=!b&&d((function(){var t=new y,e=5;while(e--)t[g](e,e);return!t.has(-0)}));E||(x=e((function(e,n){u(e,x,t);var r=p(new y,e,x);return void 0!=n&&c(n,r[g],r,v),r})),x.prototype=m,m.constructor=x),(D||j)&&(C("delete"),C("has"),v&&C("get")),(j||O)&&C(g),b&&m.clear&&delete m.clear}return w[t]=x,r({global:!0,forced:x!=y},w),h(x,t),b||n.setStrong(x,t,v),x}},7156:function(t,e,n){var r=n("861d"),a=n("d2bb");t.exports=function(t,e,n){var i,o;return a&&"function"==typeof(i=e.constructor)&&i!==n&&r(o=i.prototype)&&o!==n.prototype&&a(t,o),t}},7160:function(t,e,n){},"81d5":function(t,e,n){"use strict";var r=n("7b0b"),a=n("23cb"),i=n("50c4");t.exports=function(t){var e=r(this),n=i(e.length),o=arguments.length,s=a(o>1?arguments[1]:void 0,n),c=o>2?arguments[2]:void 0,u=void 0===c?n:a(c,n);while(u>s)e[s++]=t;return e}},"91e1":function(t,e,n){"use strict";var r=n("fd5a"),a=n.n(r);a.a},bb2f:function(t,e,n){var r=n("d039");t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},cb29:function(t,e,n){var r=n("23e7"),a=n("81d5"),i=n("44d2");r({target:"Array",proto:!0},{fill:a}),i("fill")},d58f:function(t,e,n){var r=n("1c0b"),a=n("7b0b"),i=n("44ad"),o=n("50c4"),s=function(t){return function(e,n,s,c){r(n);var u=a(e),l=i(u),d=o(u.length),f=t?d-1:0,h=t?-1:1;if(s<2)while(1){if(f in l){c=l[f],f+=h;break}if(f+=h,t?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;t?f>=0:d>f;f+=h)f in l&&(c=n(c,l[f],f,u));return c}};t.exports={left:s(!1),right:s(!0)}},d716:function(t,e,n){"use strict";n.r(e);var r,a,i,o,s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bar_donut"},[n("ChartWrapper",{attrs:{opts:t.barChartOptions,"ch-data":t.chartData,type:"bar"}}),n("ChartWrapper",{attrs:{opts:t.donutChartOptions,"ch-data":t.chartData,type:"donut"}})],1)},c=[],u=(n("99af"),n("cb29"),n("4160"),n("d81d"),n("13d5"),n("b64b"),n("d3b7"),n("6062"),n("3ca3"),n("159b"),n("ddb0"),n("96cf"),n("1da1")),l=n("2909"),d=n("5530"),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{barClass:"bar"===t.type,donutClass:"donut"===t.type}},[t._m(0),n("div",{style:{margin:"0 auto",width:"90%"}},[n("ul",{ref:"legend",style:t.legendStyles})]),"bar"===t.type?n("BarChart",{attrs:{options:t.opts,"chart-data":t.chData}}):n("DonutChart",{attrs:{options:t.opts,"chart-data":t.chData}})],1)},h=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v("Natural events from "),n("a",{staticClass:"newwindow",attrs:{rel:"noopener noreferrer",target:"_blank",href:"https://eonet.sci.gsfc.nasa.gov/eonet-project"}},[t._v("EONET")])])}],p=n("1fca"),v=p["d"].reactiveProp,b={name:"BarChart",extends:p["a"],mixins:[v],props:{options:Object},watch:{options:function(){this.renderChart(this.chartData,this.options)}},mounted:function(){this.renderChart(this.chartData,this.options)}},g=b,y=n("2877"),m=Object(y["a"])(g,r,a,!1,null,"47bbba79",null),x=m.exports,w=p["d"].reactiveProp,C={name:"DonutChart",extends:p["b"],mixins:[w],props:{options:Object},mounted:function(){this.renderChart(this.chartData,this.options)}},k=C,O=Object(y["a"])(k,i,o,!1,null,null,null),D=O.exports,E={name:"ChartWrapper",components:{BarChart:x,DonutChart:D},props:{type:{type:String,required:!0},chData:Object,opts:Object},computed:{legendStyles:function(){return{display:"flex",flexFlow:"row wrap",margin:"auto",justifyContent:"space-around",minHeight:"70px"}}},watch:{chData:function(){this.legendCallback(this.chData)}},methods:{legendCallback:function(t){for(var e,n,r,a=t.datasets[0].backgroundColor,i=0;i<t.datasets[0].data.length;i+=1)e=document.createElement("li"),n=document.createElement("p"),r=document.createElement("div"),e.style.display="flex",e.style.alignItems="center",r.style.width="30px",r.style.height="16px",r.style.backgroundColor=a[i],r.style.marginRight="5px",n.textContent=t.labels[i],n.style.fontFamily="'Alegreya Sans', sans-serif",n.style.fontWeight="300",n.style.marginRight="4px",e.appendChild(r),e.appendChild(n),this.$refs.legend.appendChild(e)}}},j=E,z=(n("91e1"),Object(y["a"])(j,f,h,!1,null,"05bc0e92",null)),S=z.exports,M={name:"BarDonut",components:{ChartWrapper:S},data:function(){return{narrow:{type:"logarithmic",ticks:{min:0,fontSize:13,callback:function(t){return 10===t||t%20===0?t:""}},position:"left"},wide:{type:"logarithmic",ticks:{min:0,fontSize:13,callback:function(t){return t}},position:"left"},xs:{xAxes:[{barPercentage:1,categoryPercentage:1,ticks:{fontSize:1,fontColor:"transparent"},gridLines:{drawOnChartArea:!1,drawTicks:!1}}]},yright:{ticks:{callback:function(){return""}},position:"right",gridLines:{drawOnChartArea:!1,drawTicks:!1}},mQ:window.matchMedia("(max-width: 580px)"),mQon:null,chartData:{},baseBarChartOptions:{title:{display:!0,text:"Number of Events - past 60 days",fontSize:13},tooltips:{backgroundColor:"#000",displayColors:!1,titleFontSize:13,bodyFontSize:13,titleMarginBottom:6,callbacks:{title:function(t){return"".concat(t[0].xLabel,":")},label:function(t){return t.yLabel}}},responsive:!0,layout:{padding:{left:0,right:0,top:0,bottom:0}},legend:{display:!1}},donutChartOptions:{title:{display:!0,text:"Share of Events - past 60 days",fontSize:13},responsive:!0,rotation:Math.floor(100*Math.random())/10*Math.PI,cutoutPercentage:54,animation:{animateScale:!0},tooltips:{backgroundColor:"#000",displayColors:!1,titleFontSize:13,bodyFontSize:13,titleMarginBottom:6,callbacks:{label:function(t,e){var n=e.datasets[0].data,r=n[t.index],a=n.reduce((function(t,e){return t+e}),0);return"".concat(e.labels[t.index],": ").concat(Math.round(r/a*1e4)/100,"%")}}},layout:{padding:{left:0,right:0,top:0,bottom:0}},legend:{display:!1,labels:{fontSize:13}}}}},computed:{barChartOptions:function(){return this.mQon?Object(d["a"])({},this.baseBarChartOptions,{scales:Object(d["a"])({yAxes:[this.narrow,this.yright]},this.xs)}):Object(d["a"])({},this.baseBarChartOptions,{scales:Object(d["a"])({yAxes:[this.wide,this.yright]},this.xs)})}},created:function(){this.makeAPICall(),this.mQ.addListener(this.handleMQ),this.handleMQ(this.mQ)},methods:{getColors:function(){var t,e=["#4a051c","#f6f930","#7a9e7e","#31493c","#ffa400","#85c7f2","#baa898","#848586","#c2847a","#d1603d","#c5dca0","#f65be3","#2a2a72"],n=new Set;while(n.size<13)t=Math.floor(13*Math.random()),n.add(t);return Object(l["a"])(n).map((function(t){return e[t]}))},handleMQ:function(t){t.matches?this.mQon=!0:this.mQon=!1},makeAPICall:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var n,r,a,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://eonet.sci.gsfc.nasa.gov/api/v2.1/events?days=60");case 3:if(n=e.sent,!n.ok){e.next=10;break}return e.next=7,n.json();case 7:n=e.sent,e.next=11;break;case 10:throw new Error("Network problem - response not ok");case 11:if(n&&n.events&&0!==n.events.length){e.next=13;break}throw new Error("No data available");case 13:r=n.events.reduce((function(t,e){return t[e.categories[0].title]=++t[e.categories[0].title]||1,t}),{}),a=[],i=[],o=t.getColors(),Object.keys(r).forEach((function(t){a.push(t),i.push(r[t])})),t.chartData=Object(d["a"])({},t.chartData,{labels:a,datasets:[{label:"",data:i,backgroundColor:o,borderWidth:Array(13).fill(0)}]}),e.next=24;break;case 21:e.prev=21,e.t0=e["catch"](0),alert("There was a problem grabbing the data: ".concat(e.t0,".  Please try again."));case 24:case"end":return e.stop()}}),e,null,[[0,21]])})))()}}},Q=M,A=(n("f94d"),Object(y["a"])(Q,s,c,!1,null,"1c453f8a",null));e["default"]=A.exports},d81d:function(t,e,n){"use strict";var r=n("23e7"),a=n("b727").map,i=n("1dde"),o=n("ae40"),s=i("map"),c=o("map");r({target:"Array",proto:!0,forced:!s||!c},{map:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},f183:function(t,e,n){var r=n("d012"),a=n("861d"),i=n("5135"),o=n("9bf2").f,s=n("90e3"),c=n("bb2f"),u=s("meta"),l=0,d=Object.isExtensible||function(){return!0},f=function(t){o(t,u,{value:{objectID:"O"+ ++l,weakData:{}}})},h=function(t,e){if(!a(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,u)){if(!d(t))return"F";if(!e)return"E";f(t)}return t[u].objectID},p=function(t,e){if(!i(t,u)){if(!d(t))return!0;if(!e)return!1;f(t)}return t[u].weakData},v=function(t){return c&&b.REQUIRED&&d(t)&&!i(t,u)&&f(t),t},b=t.exports={REQUIRED:!1,fastKey:h,getWeakData:p,onFreeze:v};r[u]=!0},f94d:function(t,e,n){"use strict";var r=n("7160"),a=n.n(r);a.a},fd5a:function(t,e,n){}}]);
//# sourceMappingURL=BarDonut-legacy.e0cdb5b1.js.map