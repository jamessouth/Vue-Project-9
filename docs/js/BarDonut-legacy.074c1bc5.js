(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["BarDonut"],{"36bd":function(t,e,n){"use strict";var r=n("4bf8"),a=n("77f1"),o=n("9def");t.exports=function(t){var e=r(this),n=o(e.length),i=arguments.length,s=a(i>1?arguments[1]:void 0,n),c=i>2?arguments[2]:void 0,l=void 0===c?n:a(c,n);while(l>s)e[s++]=t;return e}},"4dbf":function(t,e,n){},"4f7f":function(t,e,n){"use strict";var r=n("c26b"),a=n("b39a"),o="Set";t.exports=n("e0b8")(o,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return r.def(a(this,o),t=0===t?0:t,t)}},r)},5903:function(t,e,n){"use strict";var r=n("4dbf"),a=n.n(r);a.a},"5dbc":function(t,e,n){var r=n("d3f4"),a=n("8b97").set;t.exports=function(t,e,n){var o,i=e.constructor;return i!==n&&"function"==typeof i&&(o=i.prototype)!==n.prototype&&r(o)&&a&&a(t,o),t}},"67ab":function(t,e,n){var r=n("ca5a")("meta"),a=n("d3f4"),o=n("69a8"),i=n("86cc").f,s=0,c=Object.isExtensible||function(){return!0},l=!n("79e5")((function(){return c(Object.preventExtensions({}))})),u=function(t){i(t,r,{value:{i:"O"+ ++s,w:{}}})},f=function(t,e){if(!a(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!c(t))return"F";if(!e)return"E";u(t)}return t[r].i},h=function(t,e){if(!o(t,r)){if(!c(t))return!0;if(!e)return!1;u(t)}return t[r].w},p=function(t){return l&&d.NEED&&c(t)&&!o(t,r)&&u(t),t},d=t.exports={KEY:r,NEED:!1,fastKey:f,getWeak:h,onFreeze:p}},"6c7b":function(t,e,n){var r=n("5ca1");r(r.P,"Array",{fill:n("36bd")}),n("9c6c")("fill")},"892b":function(t,e,n){},"8b97":function(t,e,n){var r=n("d3f4"),a=n("cb7c"),o=function(t,e){if(a(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(a){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},"91e1":function(t,e,n){"use strict";var r=n("892b"),a=n.n(r);a.a},b39a:function(t,e,n){var r=n("d3f4");t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},c26b:function(t,e,n){"use strict";var r=n("86cc").f,a=n("2aeb"),o=n("dcbc"),i=n("9b43"),s=n("f605"),c=n("4a59"),l=n("01f9"),u=n("d53b"),f=n("7a56"),h=n("9e1e"),p=n("67ab").fastKey,d=n("b39a"),b=h?"_s":"size",v=function(t,e){var n,r=p(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,l){var u=t((function(t,r){s(t,u,e,"_i"),t._t=e,t._i=a(null),t._f=void 0,t._l=void 0,t[b]=0,void 0!=r&&c(r,n,t[l],t)}));return o(u.prototype,{clear:function(){for(var t=d(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[b]=0},delete:function(t){var n=d(this,e),r=v(n,t);if(r){var a=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=a),a&&(a.p=o),n._f==r&&(n._f=a),n._l==r&&(n._l=o),n[b]--}return!!r},forEach:function(t){d(this,e);var n,r=i(t,arguments.length>1?arguments[1]:void 0,3);while(n=n?n.n:this._f){r(n.v,n.k,this);while(n&&n.r)n=n.p}},has:function(t){return!!v(d(this,e),t)}}),h&&r(u.prototype,"size",{get:function(){return d(this,e)[b]}}),u},def:function(t,e,n){var r,a,o=v(t,e);return o?o.v=n:(t._l=o={i:a=p(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[b]++,"F"!==a&&(t._i[a]=o)),t},getEntry:v,setStrong:function(t,e,n){l(t,e,(function(t,n){this._t=d(t,e),this._k=n,this._l=void 0}),(function(){var t=this,e=t._k,n=t._l;while(n&&n.r)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?u(0,"keys"==e?n.k:"values"==e?n.v:[n.k,n.v]):(t._t=void 0,u(1))}),n?"entries":"values",!n,!0),f(e)}}},d716:function(t,e,n){"use strict";n.r(e);var r,a,o,i,s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bar_donut"},[n("ChartWrapper",{attrs:{opts:t.barChartOptions,"ch-data":t.chartData,type:"bar"}}),n("ChartWrapper",{attrs:{opts:t.donutChartOptions,"ch-data":t.chartData,type:"donut"}})],1)},c=[],l=(n("8e6e"),n("6c7b"),n("456d"),n("96cf"),n("3b8d")),u=n("75fc"),f=(n("ac6a"),n("5df3"),n("4f7f"),n("bd86")),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{barClass:"bar"===t.type,donutClass:"donut"===t.type}},[t._m(0),n("div",{style:{margin:"0 auto",width:"90%"}},[n("ul",{ref:"legend",style:t.legendStyles})]),"bar"===t.type?n("BarChart",{attrs:{options:t.opts,"chart-data":t.chData}}):n("DonutChart",{attrs:{options:t.opts,"chart-data":t.chData}})],1)},p=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v("Natural events from\n    "),n("a",{staticClass:"newwindow",attrs:{rel:"noopener noreferrer",target:"_blank",href:"https://eonet.sci.gsfc.nasa.gov/eonet-project"}},[t._v("EONET")])])}],d=n("1fca"),b=d["d"].reactiveProp,v={name:"BarChart",extends:d["a"],mixins:[b],props:{options:Object},watch:{options:function(){this.renderChart(this.chartData,this.options)}},mounted:function(){this.renderChart(this.chartData,this.options)}},y=v,g=n("2877"),m=Object(g["a"])(y,r,a,!1,null,"47bbba79",null),w=m.exports,_=d["d"].reactiveProp,x={name:"DonutChart",extends:d["b"],mixins:[_],props:{options:Object},mounted:function(){this.renderChart(this.chartData,this.options)}},C=x,O=Object(g["a"])(C,o,i,!1,null,null,null),k=O.exports,E={name:"ChartWrapper",components:{BarChart:w,DonutChart:k},props:{type:{type:String,required:!0},chData:Object,opts:Object},computed:{legendStyles:function(){return{display:"flex",flexFlow:"row wrap",margin:"auto",justifyContent:"space-around",minHeight:"70px"}}},watch:{chData:function(){this.legendCallback(this.chData)}},methods:{legendCallback:function(t){for(var e,n,r,a=t.datasets[0].backgroundColor,o=0;o<t.datasets[0].data.length;o+=1)e=document.createElement("li"),n=document.createElement("p"),r=document.createElement("div"),e.style.display="flex",e.style.alignItems="center",r.style.width="30px",r.style.height="16px",r.style.backgroundColor=a[o],r.style.marginRight="5px",n.textContent=t.labels[o],n.style.fontFamily="'Alegreya Sans', sans-serif",n.style.fontWeight="300",n.style.marginRight="4px",e.appendChild(r),e.appendChild(n),this.$refs.legend.appendChild(e)}}},j=E,D=(n("91e1"),Object(g["a"])(j,h,p,!1,null,"05bc0e92",null)),S=D.exports;function P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(n,!0).forEach((function(e){Object(f["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var F={name:"BarDonut",components:{ChartWrapper:S},data:function(){return{narrow:{type:"logarithmic",ticks:{min:0,fontSize:13,callback:function(t){return 10===t||t%20===0?t:""}},position:"left"},wide:{type:"logarithmic",ticks:{min:0,fontSize:13,callback:function(t){return t}},position:"left"},xs:{xAxes:[{barPercentage:1,categoryPercentage:1,ticks:{fontSize:1,fontColor:"transparent"},gridLines:{drawOnChartArea:!1,drawTicks:!1}}]},yright:{ticks:{callback:function(){return""}},position:"right",gridLines:{drawOnChartArea:!1,drawTicks:!1}},mQ:window.matchMedia("(max-width: 580px)"),mQon:null,chartData:{},baseBarChartOptions:{title:{display:!0,text:"Number of Events - past 60 days",fontSize:13},tooltips:{backgroundColor:"#000",displayColors:!1,titleFontSize:13,bodyFontSize:13,titleMarginBottom:6,callbacks:{title:function(t){return"".concat(t[0].xLabel,":")},label:function(t){return t.yLabel}}},responsive:!0,layout:{padding:{left:0,right:0,top:0,bottom:0}},legend:{display:!1}},donutChartOptions:{title:{display:!0,text:"Share of Events - past 60 days",fontSize:13},responsive:!0,rotation:Math.floor(100*Math.random())/10*Math.PI,cutoutPercentage:54,animation:{animateScale:!0},tooltips:{backgroundColor:"#000",displayColors:!1,titleFontSize:13,bodyFontSize:13,titleMarginBottom:6,callbacks:{label:function(t,e){var n=e.datasets[0].data,r=n[t.index],a=n.reduce((function(t,e){return t+e}),0);return"".concat(e.labels[t.index],": ").concat(Math.round(r/a*1e4)/100,"%")}}},layout:{padding:{left:0,right:0,top:0,bottom:0}},legend:{display:!1,labels:{fontSize:13}}}}},computed:{barChartOptions:function(){return this.mQon?z({},this.baseBarChartOptions,{scales:z({yAxes:[this.narrow,this.yright]},this.xs)}):z({},this.baseBarChartOptions,{scales:z({yAxes:[this.wide,this.yright]},this.xs)})}},created:function(){this.makeAPICall(),this.mQ.addListener(this.handleMQ),this.handleMQ(this.mQ)},methods:{getColors:function(){var t,e=["#4a051c","#f6f930","#7a9e7e","#31493c","#ffa400","#85c7f2","#baa898","#848586","#c2847a","#d1603d","#c5dca0","#f65be3","#2a2a72"],n=new Set;while(n.size<13)t=Math.floor(13*Math.random()),n.add(t);return Object(u["a"])(n).map((function(t){return e[t]}))},handleMQ:function(t){t.matches?this.mQon=!0:this.mQon=!1},makeAPICall:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e,n,r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://eonet.sci.gsfc.nasa.gov/api/v2.1/events?days=60");case 3:if(e=t.sent,!e.ok){t.next=10;break}return t.next=7,e.json();case 7:e=t.sent,t.next=11;break;case 10:throw new Error("Network problem - response not ok");case 11:if(e&&e.events&&0!==e.events.length){t.next=13;break}throw new Error("No data available");case 13:n=e.events.reduce((function(t,e){return t[e.categories[0].title]=++t[e.categories[0].title]||1,t}),{}),r=[],a=[],o=this.getColors(),Object.keys(n).forEach((function(t){r.push(t),a.push(n[t])})),this.chartData=Object.assign({},this.chartData,{labels:r,datasets:[{label:"",data:a,backgroundColor:o,borderWidth:Array(13).fill(0)}]}),t.next=24;break;case 21:t.prev=21,t.t0=t["catch"](0),alert("There was a problem grabbing the data: ".concat(t.t0,".  Please try again."));case 24:case"end":return t.stop()}}),t,this,[[0,21]])})));function e(){return t.apply(this,arguments)}return e}()}},M=F,A=(n("5903"),Object(g["a"])(M,s,c,!1,null,"04dad260",null));e["default"]=A.exports},e0b8:function(t,e,n){"use strict";var r=n("7726"),a=n("5ca1"),o=n("2aba"),i=n("dcbc"),s=n("67ab"),c=n("4a59"),l=n("f605"),u=n("d3f4"),f=n("79e5"),h=n("5cc5"),p=n("7f20"),d=n("5dbc");t.exports=function(t,e,n,b,v,y){var g=r[t],m=g,w=v?"set":"add",_=m&&m.prototype,x={},C=function(t){var e=_[t];o(_,t,"delete"==t?function(t){return!(y&&!u(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(y&&!u(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return y&&!u(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof m&&(y||_.forEach&&!f((function(){(new m).entries().next()})))){var O=new m,k=O[w](y?{}:-0,1)!=O,E=f((function(){O.has(1)})),j=h((function(t){new m(t)})),D=!y&&f((function(){var t=new m,e=5;while(e--)t[w](e,e);return!t.has(-0)}));j||(m=e((function(e,n){l(e,m,t);var r=d(new g,e,m);return void 0!=n&&c(n,v,r[w],r),r})),m.prototype=_,_.constructor=m),(E||D)&&(C("delete"),C("has"),v&&C("get")),(D||k)&&C(w),y&&_.clear&&delete _.clear}else m=b.getConstructor(e,t,v,w),i(m.prototype,n),s.NEED=!0;return p(m,t),x[t]=m,a(a.G+a.W+a.F*(m!=g),x),y||b.setStrong(m,t,v),m}}}]);
//# sourceMappingURL=BarDonut-legacy.074c1bc5.js.map